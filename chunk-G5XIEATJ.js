import{$a as z,Ca as g,Cb as X,I as T,N as _,Oa as D,Pa as l,Qa as m,Ra as u,Sa as a,Ta as r,Ua as P,Va as E,Wa as $,Xa as N,Za as F,_a as h,a as k,b as y,da as f,eb as M,fb as V,gb as s,hb as v,ib as w,nb as A,pa as j,pb as x,sa as c,v as S,yb as B}from"./chunk-D23WWYGB.js";var C=class o{http=_(X);getProjects(){return this.http.get("assets/data/projects.json")}static \u0275fac=function(t){return new(t||o)};static \u0275prov=T({token:o,factory:o.\u0275fac,providedIn:"root"})};var H=(o,e)=>e.data.id;function L(o,e){if(o&1&&N(0,"img",2),o&2){let t=e.$implicit;M("transform",t.transform),V("free",t.isFreePositioned),F("src",t.data.src,j)}}var b=class o{images=x.required();imageVMs=f([]);ngOnInit(){this.initializeVMs()}initializeVMs(){let e=this.images().map(t=>({data:t,transform:this.buildBaseTransform(t),isFreePositioned:!!t.position}));this.imageVMs.set(e)}onMouseMove(e){let t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width-.5,i=(e.clientY-t.top)/t.height-.5;this.imageVMs.update(d=>d.map(p=>y(k({},p),{transform:`
          ${this.buildBaseTransform(p.data)}
          translateX(${n*p.data.depth}px)
          translateY(${i*p.data.depth}px)
      rotateX(${i*.3*p.data.depth}deg)
      rotateY(${-n*.4*p.data.depth}deg)
        `})))}reset(){this.imageVMs.update(e=>e.map(t=>y(k({},t),{transform:this.buildBaseTransform(t.data)})))}buildBaseTransform(e){return`
      translate(${e.position?.x??0}px, ${e.position?.y??0}px)
      scale(${e.position?.scale??1})
      rotate(${e.position?.rotation??0}deg)
    `}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-image-depth-stack"]],inputs:{images:[1,"images"]},decls:3,vars:0,consts:[[1,"image-stack",3,"mousemove","mouseleave"],[3,"src","transform","free"],[3,"src"]],template:function(t,n){t&1&&(E(0,"div",0),z("mousemove",function(d){return n.onMouseMove(d)})("mouseleave",function(){return n.reset()}),l(1,L,1,5,"img",1,H),$()),t&2&&(c(),m(n.imageVMs()))},styles:[".image-stack[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;perspective:1000px;transform-style:preserve-3d;overflow:hidden}img[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .15s ease-out;will-change:transform}img.free[_ngcontent-%COMP%]{width:auto;height:auto;max-width:none;max-height:none;object-fit:initial}"]})};var U=(o,e)=>e.url;function Z(o,e){if(o&1&&(a(0,"span",9),s(1),r()),o&2){let t=e.$implicit;c(),v(t)}}function R(o,e){if(o&1&&(a(0,"a",11),s(1),r()),o&2){let t=e.$implicit;u("href",t.url,j),c(),w(" ",t.label," ")}}var O=class o{project=x.required();static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-project"]],inputs:{project:[1,"project"]},decls:17,vars:10,consts:[[1,"project-card"],[1,"media"],[3,"images"],[1,"content"],[1,"header"],[1,"title"],[1,"date"],[1,"description"],[1,"tags"],[1,"tag"],[1,"links"],["target","_blank",1,"link",3,"href"]],template:function(t,n){if(t&1&&(a(0,"article",0)(1,"div",1),P(2,"app-image-depth-stack",2),r(),a(3,"div",3)(4,"header",4)(5,"h3",5),s(6),r(),a(7,"span",6),s(8),r()(),a(9,"p",7),s(10),r(),a(11,"div",8),l(12,Z,2,1,"span",9,D),r(),a(14,"div",10),l(15,R,2,2,"a",11,U),r()()()),t&2){let i,d,p;M("--project-bg",(i=n.project().theme)==null?null:i.background)("--project-font-color",(d=n.project().theme)==null?null:d.text)("--project-bg-alt",(p=n.project().theme)==null?null:p.backgroundAlt),c(2),u("images",n.project().images),c(4),v(n.project().title),c(2),v(n.project().date),c(2),w(" ",n.project().description," "),c(2),m(n.project().tags),c(3),m(n.project().links)}},dependencies:[b],styles:['.project-card[_ngcontent-%COMP%]{position:relative;display:flex;max-width:1920px;height:400px;margin:auto;box-sizing:border-box;background:var(--project-bg);color:var(--project-font-color);overflow:hidden;transition:transform .3s ease,box-shadow .3s ease}@media(max-width:1280px){.project-card[_ngcontent-%COMP%]{flex-direction:column;height:500px}.project-card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{display:none}.project-card[_ngcontent-%COMP%]:hover   .media[_ngcontent-%COMP%]{display:initial}}.project-card[_ngcontent-%COMP%]{transition:height .5s}.project-card[_ngcontent-%COMP%]:hover{height:500px;transition:height .5s}@media(max-width:1280px){.project-card[_ngcontent-%COMP%]:hover{height:800px}}[_nghost-%COMP%]:nth-child(2n)   .project-card[_ngcontent-%COMP%]{flex-direction:row-reverse}@media(max-width:1280px){[_nghost-%COMP%]:nth-child(2n)   .project-card[_ngcontent-%COMP%]{flex-direction:column}}.media[_ngcontent-%COMP%]{flex:1;position:relative;transition:flex .5s;overflow:hidden}.media[_ngcontent-%COMP%]:hover{flex:1.5;transition:flex .5s}.content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:1.5rem;box-shadow:inset 0 0 20px #00000059;margin-top:.5rem}.header[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:1rem}.title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;line-height:1.2;margin-top:.5rem;margin-bottom:1rem}.date[_ngcontent-%COMP%]{font-size:.85rem;opacity:.6}.description[_ngcontent-%COMP%]{margin:1rem 0;line-height:1.5;opacity:.85;flex-grow:1}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.tag[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:6px;background:var(--project-bg-alt);font-size:.75rem}.links[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.link[_ngcontent-%COMP%]{font-size:.85rem;text-decoration:none;color:var(--project-font-color);position:relative}.link[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;bottom:-2px;width:100%;height:1px;background:currentColor;opacity:.4}']})};var G=(o,e)=>e.id;function J(o,e){if(o&1&&P(0,"app-project",4),o&2){let t=e.$implicit;u("project",t)}}var q=class o{projectService=_(C);projectItems=f([]);sortOption=f("date-desc");ngOnInit(){this.projectService.getProjects().pipe(S(e=>{throw console.log(e),e})).subscribe(e=>{this.projectItems.set(e)})}sortedProjects=A(()=>{let e=[...this.projectItems()],t=this.sortOption();return e.sort((n,i)=>{switch(t){case"date-asc":return new Date(n.date).getTime()-new Date(i.date).getTime();case"date-desc":return new Date(i.date).getTime()-new Date(n.date).getTime();case"title-asc":return n.title.localeCompare(i.title);case"title-desc":return i.title.localeCompare(n.title);default:return 0}})});setSort(e){this.sortOption.set(e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-portfolio"]],decls:15,vars:0,consts:[[1,"project-section"],[1,"project-container"],[1,"sort-controls"],[3,"click"],[3,"project"]],template:function(t,n){t&1&&(a(0,"section",0)(1,"div",1)(2,"h1"),s(3," Portfolio "),r(),a(4,"div",2)(5,"button",3),h("click",function(){return n.setSort("date-desc")}),s(6,"Date \u2193"),r(),a(7,"button",3),h("click",function(){return n.setSort("date-asc")}),s(8,"Date \u2191"),r(),a(9,"button",3),h("click",function(){return n.setSort("title-asc")}),s(10,"Titre A \u2192 Z"),r(),a(11,"button",3),h("click",function(){return n.setSort("title-desc")}),s(12,"Titre Z \u2192 A"),r()(),l(13,J,1,1,"app-project",4,G),r()()),t&2&&(c(13),m(n.sortedProjects()))},dependencies:[B,O],styles:[".project-section[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff}.project-container[_ngcontent-%COMP%]{display:flex;align-self:flex-start;flex-direction:column;align-items:center}.project-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:8rem;font-size:48px;font-weight:lighter;text-shadow:#EEE 0 .5rem 0px}.project-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]{display:flex;gap:12px;width:100%;justify-content:center;background:#eee}.project-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 14px;border:none;background:#eee;color:#000;cursor:pointer;transition:.2s}.project-container[_ngcontent-%COMP%]   .sort-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#ccc}.project-container[_ngcontent-%COMP%]   app-project[_ngcontent-%COMP%]:nth-child(2n)   article[_ngcontent-%COMP%]{flex-direction:row-reverse}"]})};export{q as Portfolio};
